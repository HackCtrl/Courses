## ***Команды для просмотра содержимого файла***

#### ***Основные команды для просмотра файлов***

`cat` - используется для вывода содержимого файла в терминале целиком: 
`cat /etc/passwd` (покажет какие пользователи добавлены в систему)

`less` и `more` - предназначены для постраничного чтения файла. less - двигаться в обоих направлениях, more - только вперед: 
`less /varlog/syslog` - покажет постранично файл логов при помощи клавиш вверх и низ 

`head` и `tail` - выводит первую и последнею строку файла.  head - начало, tail - конец: 
`tail -f /var/log/syslog` - покажет, что происходит в логе прямо в моменте работы службы 
## ***Команды для поиска по файлам***

`grep` - для поиска текста внутри файлов в Linux. Она может находить строки, соответствующие определенному шаблону или слову: 
`grep 'error' /var/log/syslog` - найдет упоминание об ошибке в системном логе

***Синтаксис grep:*** 
`grep [опция] "шаблон" [имя файла]`
- "шаблон" - это текст или регулярное выражение 
- [имя файла] - файл или файлы, в которых выполняется поиск 
- по умолчанию grep чувствителен к регистру 

`-i` - игнорирует регистр: 
`grep -i "'error" /var/log/syslog`

`grep "server" /etc/*.conf` - поиск в нескольких файлах одновременно

`-n` - получить номер строки, в которой найдено совпадение: 
`grep -n "error" /var/log/syslog`

`-v` - получим номер строки, которые не содержат определенное слово или фразу: 
`grep -v "error" /var/log/syslog`

`-E` или `egrep` - несколько шаблонов одновременно
`grep -E "error|warning" /var/log/syslog`
## ***Текстовые редакторы***

***Текстовый редактор*** - это инструмент для изменения текстовых файлов: конфигураций, скриптов и многих других 
## ***nano***

***nano*** - простой и интуитивно понятный текстовый редактор. Он идеален для новичков, так как с ним все основные команды отображаются на экране 

`sudo apt update && sudo apt intsall nano -y` - установит текстовый редактор nano
`nano имя_файла` - запустит 

***Основные команды данного редактора:*** 
- `Ctrl`+`O` — сохранить файл.
- `Ctrl`+`X` — выйти из редактора.
- `Ctrl`+`_` — перейти к конкретной строке. Например, если вы хотите перейти к строке 100, нажмите `Ctrl`+`_`, затем введите 100 и нажмите `Enter`.
- `Ctrl`+`V` — прокрутить файл на одну страницу вниз.
- `Ctrl`+`Y` — прокрутить файл на одну страницу вверх.
- `Alt`+`\\` — перейти в начало файла.
- `Alt`+`/` — перейти в конец файла.
## ***vi и Vim***

***vi и Vim*** - более мощные редакторы, предназначенные для продвинутых юзеров. Их особенность, в разделении режимов работы на "режим команд" и "режим редактирования"
Vim - улучшенная версия vi, поддерживает больше функций 

`sudo apt update && sudo apt install vim -y` - установит редактор 
`vim имя_файла` - запустит 

***Команды Vim:*** 
- ***Основные команды:*** 
`:w` — сохранить файл
`:q` — выйти из редактора
`:wq` — сохранить и выйти
`:q!` — выйти без сохранения изменения
- ***Расширенные команды:*** 
`gg` — переместиться в начало файла
`G` — переместиться в конец файла
`yy` — копировать текущую строку
`u` — отменить последнее действие
`Ctrl`+`R` — отменить отмену (вернуть последнее действие)
`y` — копировать выделенный текст
`d` — вырезать выделенный текст
`/` — начать поиска текста. Когда вы наберёте `/текст` и нажмёте `Enter`, произойдёт поиск указанного слова или выражения
`n` — перейти к следующему результату поиска
`N` — перейти к предыдущему результату поиска
`:%s/старый/новый/g` — глобально заменить текст в файле. В результате старый текст заменится на новый во всём документе
## ***Траблшутинг***

#### ***Проблема №1. Ошибка при открытии или сохранении файла в редакторах nano и Vim***

#### ***Решение***
***Откроем файл с правами суперпользователя:*** 
- `sudo nano /etc/fstab`
- `sudo vim /etc/fstab`
- `:w !sudo tee %` - сохранит изменения с правами суперпользователя
#### ***Проблема №2. Невозможно найти файл в системе***

#### ***Решение***
***Проверим путь к файлу, если его нет, то создадим его:*** 
- `ls /путь/к/файлу`
- `touch /путь/к/файлу`
#### ***Проблема №3. Ошибка при использовании `grep`***

#### ***Решение***
***Выполним поиск без учета регистра и используем расширенные регулярные выражения:*** 
- `grep -i "ошибка" /var/log/syslog`
- `grep -E "ошибка|предупреждение" /var/log/syslog`
#### ***Проблема №4. Файл оказался пустым (неожиданно перезаписался)***

#### ***Решение***
***Восстановить из резервных копий (при ее наличии). Для поиска удаленных файлов, воспользоваться инструментом `extundelete`. Для предотвращения используем защищающий файл:*** 
- `sudo extundelete /dev/sdX --restore-file /путь/к/файлу`
- `sudo visudo`
#### ***Проблема №5. Команда `tail -f` не показывает обновления файла***

#### ***Решение***
***Убедимся, что файл существует:*** 
- `ls -l /путь/к/файлу`
#### ***Проблема №6. Ошибка при изменении прав на файл***

#### ***Решение***
***Используем sudo:*** 
- `sudo chmod 644 файл`
- `sudo mount -o remount,rw /точка_монтирования`
#### ***Проблема №7. Команда `cat`, `less` или `grep` выводит «мусорные» символы***

#### ***Решение***
***Определим тип файла, перекодируем его в UTF-8, и проанализируем бинарный файл:*** 
- `file файл`
- `iconv -f кодировка -t utf-8 файл -o новый_файл`
- `strings файл`
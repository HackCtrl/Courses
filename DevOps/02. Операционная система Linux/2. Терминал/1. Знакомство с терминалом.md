## ***Что такое терминал и зачем он нужен***

***CLI (command-line interface - "интерфейс командной строки")*** - взаимодействие человека и компьютера через отправку последнему последовательностей символов - команд

***Эмулятор терминала*** - это программа, имитирующая программными средствами работу терминала компьютера внутри некоторой другой архитектуры вывода данных на экран

***Терминал*** - приложение, которое позволяет вводить текстовые команды для выполнения разных задач в ОС

***Графический интерфейс пользователя, или GUI (graphical user interface)*** - способ взаимодействия пользователя с компьютером с помощью графических элементов: окон, кнопок и меню 

***Преимущества терминала по отдельности:***  
1. Эффективность 
2. Большой контроль 
3. Работа с серверами 
4. Автоматизация 
## ***Интерпретаторы команд***

***Командный интерпретатор*** - это переводчик, который понимает команды и передает их ОС для выполнения

![[Pasted image 20251104103901.png]]
*Рисунок 1. Принцип работы* 
## ***Linux: команды***

#### ***Базовые команды***
- `pwd` - узнать текущую директорию 
- `ls` - посмотреть содержимое директории 
- `cd` - перемещаться между директориями 
- `man` - получить справку по использованию команд 
- `wget` - загрузить файл из интернета 
- `mkdir` - создать новую директорию 
- `rm` - удалить файл
#### ***Расширенные команды***

***Флаги*** - это дополнительные опции, передаваемые команде. Обычно они начинаются с символа - (из-за чего и называются флагами) и выглядит так: `-a`, `-i`, `-r` (при помощи флагов можно расширить возможности команд)

![[Pasted image 20251104104845.png]]
*Рисунок 2. Схема добавления флагов в команду* 

***Принцип записи:*** 
команда -> пробел -> опция -> аргумент 
`tee(1) -a(2) /etc/nginx(3)`
1 - команда, 2 - опция, 3 - аргумент 

***Примеры расширенных команд:***
- `ls -la` - вывести содержимое директории (здесь флаг `-a` означает отобразить все файлы включая скрытые, а `-l` отобразит расширенную информацию. При этом результат выполнения команд `ls -la`и `ls -l -a` будут идентичными, флаги можно комбинировать)
- `rm -r dir_name` - рекурсивное удаление 

***Рекурсия*** - это вызов функции или команд из нее же самой. Количество таких вложенных вызовов называется глубиной рекурсии. Рекурсивная программа позволяет описать повторяющиеся или даже потенциально бесконечные вычисления (это повторение операции удаления внутри каждого вложенного объекта. То есть если удалить директорию `dir_name` все что в ней, тоже удалиться)

- `dpkg -i install_program.deb` - установка программ
- `dpkg -r program` - удаление программ 

***Навигация по файловой системе.***
- `cd ~/` - перейти в домашнею директорию текущего пользователя 
- `cd ../` - перейти в директорию уровнем выше

### ***Задание для самопроверки***

***ncdu*** - инструмент, который позволяет анализировать использование дискового пространства. Особенно это программа удобна, когда нужно быстро найти файлы и папки, занимающие больше всего места на сервере или рабочей станции

`sudo` - команда для повышения привилегий
### ***Траблшутинг***

***Общая рекомендация, когда что-то идет не так:*** 
1. Проверить синтаксис 
2. Проверить права доступа 
3. Проверить последние изменения в конфигурации 
#### ***Проблема №1. Терминал не запускается или недоступен***

#### ***Решение***
1. Нажмите `Ctrl`+`Alt`+`T`, чтобы открыть терминал.
2. Если это не помогло, найдите его в меню приложений или введите «Terminal» в строке поиска и запустите.
3. Перезагрузите систему.
#### ***Проблема №2. Ошибка `сommand not found`***

#### ***Решение***
1. Проверьте, правильно ли записана команда: терминал различает заглавные и строчные буквы. Например, `ls` и `LS` — это разные команды.
2. Если команда связана с конкретной программой, проверьте, установлена ли она. Например, для использования `dpkg` выполните:
    
    ```
    dpkg --help 
    ```
    
3. Терминал отвечает? Значит, программа установлена! В противном случае найдите и установите её вручную, скачав соответствующий `.deb`-пакет с официального сайта. После загрузки выполните команду:
    
    ```
    sudo dpkg -i package_name.deb 
    ```

#### ***Проблема №3. Файлы или папки не отображаются***

#### ***Решение***
Проверьте, находитесь ли вы в правильной директории, через `pwd`. Если папка не та, переместитесь в нужную с помощью команды `cd`.

Для отображения скрытых файлов добавьте флаг `-a`:

```
ls -a 
```

Скрытые файлы начинаются с точки `(**.**)`.

#### ***Проблема №4. Невозможно сменить директорию***

#### ***Решение***
1. Проверьте путь к директории. Если пробелы есть, заключите его в кавычки:
    
    ```
    cd "My Folder" 
    ```
    
1. Убедитесь, что директория существует, с помощью `ls`. Если её нет, возможно, вы опечатались в названии.
#### ***Проблема №5. Терминал завис***

#### ***Решение***
1. Прекратите выполнение текущей команды с помощью `Ctrl`+`C`.
2. Убедитесь, что программа не ожидает ввода. К примеру, после команды `cat` терминал ожидает, что вы введёте текст. Чтобы выйти, нажмите `Ctrl`+`D`.
#### ***Проблема №6. Ошибка `Permission denied`***

#### ***Решение***
1. Проверьте права доступа к файлу или директории:
2. Изучите первую колонку — если в ней нет `x`, то есть права на выполнение, файл нельзя запустить.
    
    ```
    ls -l 
    ```
    
3. Измените права этой командой:
    
    ```
    chmod +x file_name 
    ```
    
4. Если нужен администраторский доступ, используйте `sudo`. Например:
    
    ```
    sudo dpkg -i программа.deb 
    ```

#### ***Проблема №7. Сломанные кодировки***

#### ***Решение***
Проверьте текущую локаль:

```
locale 
```

Если вывод указывает на проблемы — например, есть пустые значения, — исправьте их:

```
sudo locale-gen en_US.UTF-8
sudo update-locale LANG=en_US.UTF-8 
```

Перезапустите терминал, чтобы изменения вступили в силу.
#### ***Проблема №8. Программа не устанавливается через терминал***

#### ***Решение***
1. Убедитесь, что файл `.deb` загружен правильно, проверьте его имя и расположение. Установите пакет:
    
    ```
    sudo dpkg -i package_name.deb 
    ```
    
2. Если терминал сообщает об отсутствующих зависимостях, выполните такую команду:
    
    ```
    sudo apt-get install -f 
    ```

#### ***Проблема №9. Ошибка при изменении прав доступа***

#### ***Решение***
Верните право на выполнение, запустив команду напрямую:

```
sudo /bin/chmod +x /bin/chmod 
```

#### **Сценарий второй: `chmod 777 /home/user`**

Вы случайно сделали домашнюю директорию доступной для всех пользователей.

1. Восстановите стандартные права доступа для домашней директории:
    
    ```
    chmod 700 /home/user 
    ```
    
2. Пройдитесь по всем файлам и подкаталогам, чтобы вернуть их в нужное состояние:
    
    ```
    chmod -R 700 /home/user 
    ```
#### ***Проблема №10. Непонимание вывода команды***

#### ***Решение***
1. Изучите документацию команды через `man`. Например, для команды `ls`:
    
    ```
    man ls 
    ```
    
    Так вы откроете подробное руководство.
    
2. Используйте дополнительные флаги для конкретизации вывода. Например, чтобы увидеть только директории:
    
    ```
    ls -d */ 
    ```

